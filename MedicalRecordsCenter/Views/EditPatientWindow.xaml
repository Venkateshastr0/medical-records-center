<Window x:Class="MedicalRecordsCenter.Views.EditPatientWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Edit Patient - Medical Records Center"
        Height="600"
        Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundBrush}">
    
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Window.Resources>

    <Border Background="White" 
            CornerRadius="10" 
            BorderBrush="#E0E0E0" 
            BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" 
                    Background="{StaticResource PrimaryBrush}" 
                    CornerRadius="10,10,0,0"
                    Height="60">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- Title -->
                    <StackPanel Grid.Column="0" 
                                Orientation="Horizontal" 
                                VerticalAlignment="Center"
                                Margin="20,0">
                        <materialDesign:PackIcon Kind="AccountEdit" 
                                                Foreground="White"
                                                Width="24" 
                                                Height="24"
                                                VerticalAlignment="Center"
                                                Margin="0,0,10,0" />
                        <TextBlock Text="Edit Patient" 
                                   FontFamily="{StaticResource UbuntuMediumFont}"
                                   FontSize="18"
                                   FontWeight="Medium"
                                   Foreground="White"
                                   VerticalAlignment="Center" />
                    </StackPanel>

                    <!-- Close Button -->
                    <Button Grid.Column="1"
                            Style="{StaticResource MaterialDesignIconButton}"
                            Click="CloseButton_Click"
                            Background="Transparent"
                            Foreground="White"
                            Margin="0,0,10,0">
                        <materialDesign:PackIcon Kind="Close" />
                    </Button>
                </Grid>
            </Border>

            <!-- Form Content -->
            <ScrollViewer Grid.Row="1" 
                          VerticalScrollBarVisibility="Auto"
                          Padding="40,30">
                <StackPanel>
                    <!-- Personal Information -->
                    <TextBlock Text="Personal Information"
                               Style="{StaticResource Header6}"
                               Margin="0,0,0,20" />

                    <Grid Margin="0,0,0,30">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!-- First Name -->
                        <TextBox Grid.Column="0" Grid.Row="0"
                                 materialDesign:HintAssist.Hint="First Name"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,10,15"
                                 x:Name="FirstNameTextBox" />

                        <!-- Last Name -->
                        <TextBox Grid.Column="1" Grid.Row="0"
                                 materialDesign:HintAssist.Hint="Last Name"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="10,0,0,15"
                                 x:Name="LastNameTextBox" />

                        <!-- Date of Birth -->
                        <DatePicker Grid.Column="0" Grid.Row="1"
                                    materialDesign:HintAssist.Hint="Date of Birth"
                                    FontFamily="{StaticResource UbuntuFont}"
                                    FontSize="14"
                                    Margin="0,0,10,15"
                                    x:Name="DateOfBirthDatePicker" />

                        <!-- Gender -->
                        <ComboBox Grid.Column="1" Grid.Row="1"
                                  materialDesign:HintAssist.Hint="Gender"
                                  FontFamily="{StaticResource UbuntuFont}"
                                  FontSize="14"
                                  Margin="10,0,0,15"
                                  x:Name="GenderComboBox">
                            <ComboBoxItem Content="Male" />
                            <ComboBoxItem Content="Female" />
                            <ComboBoxItem Content="Other" />
                        </ComboBox>

                        <!-- Phone Number -->
                        <TextBox Grid.Column="0" Grid.Row="2"
                                 materialDesign:HintAssist.Hint="Phone Number"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,10,15"
                                 x:Name="PhoneNumberTextBox" />

                        <!-- Email -->
                        <TextBox Grid.Column="1" Grid.Row="2"
                                 materialDesign:HintAssist.Hint="Email"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="10,0,0,15"
                                 x:Name="EmailTextBox" />

                        <!-- Address -->
                        <TextBox Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2"
                                 materialDesign:HintAssist.Hint="Address"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,0,15"
                                 x:Name="AddressTextBox"
                                 Height="60"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True" />
                    </Grid>

                    <!-- Medical Information -->
                    <TextBlock Text="Medical Information"
                               Style="{StaticResource Header6}"
                               Margin="0,0,0,20" />

                    <Grid Margin="0,0,0,30">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!-- Blood Type -->
                        <ComboBox Grid.Column="0" Grid.Row="0"
                                  materialDesign:HintAssist.Hint="Blood Type"
                                  FontFamily="{StaticResource UbuntuFont}"
                                  FontSize="14"
                                  Margin="0,0,10,15"
                                  x:Name="BloodTypeComboBox">
                            <ComboBoxItem Content="A+" />
                            <ComboBoxItem Content="A-" />
                            <ComboBoxItem Content="B+" />
                            <ComboBoxItem Content="B-" />
                            <ComboBoxItem Content="AB+" />
                            <ComboBoxItem Content="AB-" />
                            <ComboBoxItem Content="O+" />
                            <ComboBoxItem Content="O-" />
                        </ComboBox>

                        <!-- Emergency Contact -->
                        <TextBox Grid.Column="1" Grid.Row="0"
                                 materialDesign:HintAssist.Hint="Emergency Contact"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="10,0,0,15"
                                 x:Name="EmergencyContactTextBox" />

                        <!-- Allergies -->
                        <TextBox Grid.Column="0" Grid.Row="1"
                                 materialDesign:HintAssist.Hint="Allergies"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,10,15"
                                 x:Name="AllergiesTextBox" />

                        <!-- Medical History -->
                        <TextBox Grid.Column="1" Grid.Row="1"
                                 materialDesign:HintAssist.Hint="Medical History"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="10,0,0,15"
                                 x:Name="MedicalHistoryTextBox" />

                        <!-- Current Medications -->
                        <TextBox Grid.Column="0" Grid.Row="2"
                                 materialDesign:HintAssist.Hint="Current Medications"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,10,15"
                                 x:Name="CurrentMedicationsTextBox" />

                        <!-- Primary Care Physician -->
                        <TextBox Grid.Column="1" Grid.Row="2"
                                 materialDesign:HintAssist.Hint="Primary Care Physician"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="10,0,0,15"
                                 x:Name="PrimaryCarePhysicianTextBox" />

                        <!-- Notes -->
                        <TextBox Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2"
                                 materialDesign:HintAssist.Hint="Notes"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,0,15"
                                 x:Name="NotesTextBox"
                                 Height="60"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True" />
                    </Grid>

                    <!-- Insurance Information -->
                    <TextBlock Text="Insurance Information"
                               Style="{StaticResource Header6}"
                               Margin="0,0,0,20" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- Insurance Provider -->
                        <TextBox Grid.Column="0"
                                 materialDesign:HintAssist.Hint="Insurance Provider"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="0,0,10,15"
                                 x:Name="InsuranceProviderTextBox" />

                        <!-- Policy Number -->
                        <TextBox Grid.Column="1"
                                 materialDesign:HintAssist.Hint="Policy Number"
                                 materialDesign:HintAssist.IsFloating="True"
                                 FontFamily="{StaticResource UbuntuFont}"
                                 FontSize="14"
                                 Margin="10,0,0,15"
                                 x:Name="PolicyNumberTextBox" />
                    </Grid>
                </StackPanel>
            </ScrollViewer>

            <!-- Footer -->
            <Border Grid.Row="2" 
                    Background="#F5F5F5" 
                    CornerRadius="0,0,10,10"
                    Height="70">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- Status Message -->
                    <TextBlock Grid.Column="0"
                               x:Name="StatusTextBlock"
                               FontFamily="{StaticResource UbuntuFont}"
                               FontSize="12"
                               Foreground="#666"
                               VerticalAlignment="Center"
                               Margin="20,0" />

                    <!-- Action Buttons -->
                    <StackPanel Grid.Column="1" 
                                Orientation="Horizontal" 
                                VerticalAlignment="Center"
                                Margin="20,0">
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                                Click="CancelButton_Click"
                                FontFamily="{StaticResource UbuntuFont}"
                                FontSize="14"
                                Margin="0,0,10,0">
                            Cancel
                        </Button>
                        <Button Style="{StaticResource MaterialDesignRaisedButton}"
                                Click="SaveButton_Click"
                                Background="{StaticResource PrimaryBrush}"
                                Foreground="White"
                                FontFamily="{StaticResource UbuntuMediumFont}"
                                FontSize="14"
                                FontWeight="Medium">
                            Update Patient
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
